<!doctype html>
<!--[if lt IE 7]>
<html class="no-js ie6 oldie" lang="en"> <![endif]-->
<!--[if IE 7]>
<html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>
<html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en"> <!--<![endif]-->
<head>
    <meta charset="utf-8"/>
    <title>文档中心</title>
    <meta name="keywords" content="documentation,dox"/>
    <meta name="description" content="项目开发相关文档"/>
    <link rel="stylesheet" type="text/css" href="http://docs.gameservice.com/templates/developer/assets/base.css"/>
    <link rel="stylesheet" type="text/css" href="http://docs.gameservice.com/static/themes/default/css/developer.css"/>
    <link rel="stylesheet" type="text/css" href="http://docs.gameservice.com/static/themes/default/css/typo.css"/>
    <script src="http://docs.gameservice.com/templates/default/assets/prettify.js"></script>
    <script src="http://docs.gameservice.com/templates/default/assets/jquery-1.8.2.min.js"></script>
</head>
<body>
<div class="header">
    <div class="inner-wrapper">
        <!--<div class="opt rt">-->
            <!--<a href="http://developers.gameservice.com/register">注册</a>-->
        <!--</div>-->
        <div class="logo"><a href="http://www.gameservice.com/">NGDS</a></div>
        <!--<div class="nav">-->
            <!--<ul>-->
                <!--<li class="item"><a class="link" href="http://developers.gameservice.com/push">智能推送</a></li>-->
                <!--<li class="item"><a class="link" href="http://developers.gameservice.com/data">数据分析</a></li>-->
                <!--<li class="item"><a class="link" href="http://docs.gameservice.com/docs/sdk/Android-SDK.html" target="_blank">SDK下载</a></li>-->
                <!--<li class="item"><a class="link" target="_blank" href="http://docs.gameservice.com/">帮助文档</a>-->
                <!--</li>-->
            <!--</ul>-->
        <!--</div>-->
    </div>
</div>
<div class="outer-wrapper">

<div class="sidebar">
    <div class="wrapper">
        <nav class="sidebar-nav">
            <div class="sidebar-content">
                <h1 class="nav-title">推送文档</h1>
                <ul>

            <li  ><a href="http://docs.gameservice.com/push/push_flow.html">推送接入流程</a><i class="disclosure"></i></li>

            <li  ><a href="http://docs.gameservice.com/push/server_push_api.html">服务端推送接口</a><i class="disclosure"></i></li>

            <li  class="active"  ><a href="http://docs.gameservice.com/push/Android-SDK.html">Android SDK接入指南</a><i class="disclosure"></i></li>

                <li >

                    <a href="http://docs.gameservice.com/push/iOS/iOS-SDK.html">iOS SDK接入
                        <i class="disclosure"></i>
                    </a>
                    <ul>
                    
                            <li ><a  href="http://docs.gameservice.com/push/iOS/iOS-SDK.html">iOS SDK接入指南</a></li>
                    
                            <li ><a  href="http://docs.gameservice.com/push/iOS/Create_APNG_Certificate.html">APNS证书创建流程</a></li>
                    
                    </ul>
                </li>

</ul>

            </div>
        </nav>
    </div>
</div>
<div class="main">
    <div class="wrapper">
        <div class="nav-page-content typo typo-selection" role="main">
            <h1 id="smartpush-sdk-">SmartPush SDK 说明文档</h1>
<p>版本：V1.2.6</p>
<h2 id="-">目录</h2>
<ol>
<li><p><a href="#1">产品说明</a></p>
<p> 1.1 <a href="#1.1">功能</a></p>
<p> 1.2 <a href="#1.2">特点</a></p>
<p> 1.3 <a href="#1.3">SDK 包内容</a></p>
<p> 1.4 <a href="#1.4">Android SDK版本</a></p>
</li>
<li><p><a href="#2">开始集成SDK</a></p>
<p> 2.1 <a href="#2.1">导入包</a></p>
<p> 2.2 <a href="#2.2">资源配置</a></p>
<p> 2.3 <a href="#2.3">添加代码</a></p>
<p> 2.4 <a href="#2.4">测试确认</a></p>
</li>
<li><p><a href="#3">推送API介绍</a></p>
</li>
</ol>
<ol>
<li><p><a href="#4">相关类介绍</a></p>
<p> 4.1 <a href="#4.1">IMsgReceiver</a></p>
</li>
<li><p><a href="#5">常见问题</a></p>
<p> 5.1 <a href="#5.1">关于推送服务</a></p>
</li>
</ol>
<h2 id="1">1、产品说明</h2>

<h3 id="1.1">1.1 功能</h3>

<ul>
<li><p>开发者能够主动、及时地向玩家发送通知或消息。</p>
</li>
<li><p>可接收通知与自定义消息，向 App 传递相关信息。  </p>
</li>
</ul>
<h3 id="1.2">1.2 特点</h3>

<ul>
<li><p>数据挖掘，实时或离线的场景分析，在适当的时候以适当的方式推送到玩家。</p>
</li>
<li><p>通过离线保障，不单纯依赖TCP长连接，将送达率提高到99.9%以上，降低客户端25%电力消耗。</p>
</li>
</ul>
<h3 id="1.3">1.3 SDK 包内容</h3>

<ul>
<li><p>示例程序工程：<strong>SmartPushExample</strong></p>
<ul>
<li>SmartPushExample/src下: 示例代码</li>
</ul>
</li>
<li><p>工程依赖包：<strong>smart-push-v1.x.x.jar</strong></p>
</li>
<li><p>示例程序安装包：<strong>SmartPushExample.apk</strong></p>
</li>
<li><p>说明文档：<strong>SmartPush SDK说明文档.pdf</strong></p>
</li>
</ul>
<h3 id="1.4">1.4 Android SDK版本</h3>

<ul>
<li>目前SDK只支持Android 2.2或以上版本的手机系统。</li>
</ul>
<h2 id="2">2、开始集成SDK</h2>

<h3 id="2.1">2.1 导入包</h3>

<ul>
<li>拷贝 smart-push-v1.x.x.jar 包到主工程的libs下；</li>
<li>Eclipse 下导入依赖包</li>
</ul>
<p>注意：使用 Eclipse ADT 17 以上版本的开发者，其可自动引用jar包。使用 Eclipse ADT 17 以下版本开发者使用老方式添加工程引用：右键工程根目录 &gt; Properties &gt; Java Build Path &gt; Libraries，然后点击Add External JARs... 选择指向jar包的路径(主项目的libs目录下)，点击OK，流程如下：</p>
<p><img src="./Android-SDK-Pic/SetEclipse_1.jpg" alt=""></p>
<p><img src="./Android-SDK-Pic/SetEclipse_2.jpg" alt=""></p>
<p><img src="./Android-SDK-Pic/SetEclipse_3.jpg" alt=""></p>
<ul>
<li>IntelliJ IDEA 下导入包</li>
</ul>
<p>工程libs目录 &gt; 右键  smart-push-v1.x.x.jar &gt; Add as Library &gt; 选择Project Library &gt; 加为项目依赖：</p>
<p><img src="./Android-SDK-Pic/SetIdea_1.jpg" alt=""></p>
<p><img src="./Android-SDK-Pic/SetIdea_2.jpg" alt=""></p>
<h3 id="2.2">2.2 资源配置</h3>

<ul>
<li><p>在主工程 AndroidManifest.xml 的 manifest 标签下添加：</p>
<pre><code>  &lt;!-- 必需： 权限配置 --&gt;
  &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;
  &lt;uses-permission android:name=&quot;android.permission.BATTERY_STATS&quot; /&gt;
  &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;
  &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;
  &lt;uses-permission android:name=&quot;android.permission.CHANGE_NETWORK_STATE&quot; /&gt;
  &lt;uses-permission android:name=&quot;android.permission.CHANGE_WIFI_STATE&quot; /&gt;
  &lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot; /&gt;
  &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;
  &lt;uses-permission android:name=&quot;android.permission.BROADCAST_STICKY&quot; /&gt;
  &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;
  &lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot; /&gt;
  &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;
  &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;
</code></pre></li>
</ul>
<ul>
<li><p>在主工程 AndroidManifest.xml 的 application 标签下添加：</p>
<pre><code>  &lt;!-- 必需： 应用ID --&gt;
  &lt;meta-data
      android:name=&quot;NGDS_APPID&quot;
      android:value=&quot;8&quot; /&gt;
  &lt;!--必需： 应用KEY--&gt;
  &lt;meta-data
      android:name=&quot;NGDS_APPKEY&quot;
      android:value=&quot;sVDIlIiDUm7tWPYWhi6kfNbrqui3ez44&quot; /&gt;
  &lt;!--必需： 渠道号，默认14 --&gt;
  &lt;meta-data
      android:name=&quot;NGDS_CHANNEL&quot;
      android:value=&quot;14&quot; /&gt;

  &lt;!-- 必需： 推送页面配置 --&gt;
  &lt;activity android:name=&quot;com.gameservice.sdk.push.ui.SmartPushActivity&quot; /&gt;

  &lt;!-- 必需： push 服务配置 --&gt;
  &lt;service
      android:name=&quot;com.gameservice.sdk.push.api.SmartPushService&quot;
      android:process=&quot;:remote&quot; /&gt;

  &lt;!-- 必需： push 消息接收配置 --&gt;
  &lt;receiver
      android:name=&quot;com.gameservice.sdk.push.api.SmartPushReceiver&quot;
      android:enabled=&quot;true&quot;
      android:exported=&quot;false&quot;
      android:priority=&quot;90000&quot;
      android:process=&quot;:remote&quot;&gt;
      &lt;intent-filter&gt;
          &lt;action android:name=&quot;android.intent.action.PACKAGE_ADDED&quot; /&gt;
          &lt;action android:name=&quot;android.intent.action.PACKAGE_CHANGED&quot; /&gt;
          &lt;action android:name=&quot;android.intent.action.PACKAGE_DATA_CLEARED&quot; /&gt;
          &lt;action android:name=&quot;android.intent.action.PACKAGE_INSTALL&quot; /&gt;
          &lt;action android:name=&quot;android.intent.action.PACKAGE_REMOVED&quot; /&gt;
          &lt;action android:name=&quot;android.intent.action.PACKAGE_REPLACED&quot; /&gt;
          &lt;action android:name=&quot;android.intent.action.PACKAGE_RESTARTED&quot; /&gt;
          &lt;action android:name=&quot;android.intent.action.USER_PRESENT&quot; /&gt;
          &lt;action android:name=&quot;android.net.conn.CONNECTIVITY_CHANGE&quot; /&gt;
          &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;
          &lt;action android:name=&quot;cn.ngds.android.intent.alarm&quot; /&gt;
      &lt;/intent-filter&gt;
  &lt;/receiver&gt;
</code></pre></li>
</ul>
<ul>
<li>meta-data 标签配置说明：<ul>
<li>NGDS_APPID（应用ID）的value值配置成<a href="http://developers.gameservice.com/">GameService 开发网站</a>里真实分配到的AppId。</li>
<li>NGDS_APPKEY（应用KEY）的value值配置成<a href="http://developers.gameservice.com/">GameService 开发网站</a>里真实分配到的AppKey。</li>
<li>NGDS_CHANNEL（渠道号）的value值默认配置成14，有发渠道包的请填具体的渠道号。</li>
</ul>
</li>
</ul>
<h3 id="2.3">2.3 添加代码</h3>

<h4 id="2.3.1">2.3.1 添加推送服务代码</h4>

<ul>
<li><p>在Activity或者Application子类中添加代码：</p>
<pre><code>  SmartPush.registerReceiver(new MessageReceiver());
  SmartPush.registerService(this);
</code></pre></li>
<li><p>说明：MessageReceiver类为IMsgReceiver的实现类，要开启服务必先实现一个此接口并注册，并重写<strong>onMessage</strong>方法处理接收到的消息(可参考demo)。</p>
<pre><code>  private class MessageReceiver implements IMsgReceiver {
      @Override
      public void onMessage(String message) {
          // 处理透传消息 message是Json字符串，如&quot;{&quot;ID&quot;:&quot;id1&quot;, &quot;NAME&quot;:&quot;http:\/\/www.baidu.com&quot;}&quot;
          android.util.Log.i(&quot;TGX&quot;, &quot;message:&quot; + message);
      }

      @Override
      public void onDebug(String debugInfo) {
          // SDK发出的debug信息，可不处理
          android.util.Log.i(&quot;TGX&quot;, &quot;message:&quot; + debugInfo);
      }

      @Override
      public void onDeviceToken() {
          // 玩家id与设备绑定,“0917”为玩家id
          SmartPush.bindDevice(PushActivity.this, &quot;0917&quot;);
      }
  }    
</code></pre></li>
</ul>
<h4 id="2.3.2">2.3.2 添加信息采集服务代码</h4>

<ul>
<li><p>在Activity的onResume和onPause方法中作如下调用： </p>
<pre><code>  @Override
  protected void onPause() {
      SmartPush.onActivityPause(this);
      super.onPause();
  }

  @Override
  protected void onResume() {
      SmartPush.onActivityResume(this);
      super.onResume();
  }     
</code></pre></li>
<li><p>说明：添加以上代码才能正确获取玩家行为数据。        </p>
</li>
</ul>
<h4 id="2.3.3">2.3.3 添加错误上报功能</h4>

<ul>
<li><p>Application的子类中进行如下调用：</p>
<pre><code>  public class BaseApp extends Application {
      private Thread.UncaughtExceptionHandler mDefaultUncaughtExceptionHandler;

      @Override
      public void onCreate() {
          super.onCreate();
          initErrorHandler();
      }

      private void initErrorHandler() {
          mDefaultUncaughtExceptionHandler = Thread.getDefaultUncaughtExceptionHandler();
          Thread.setDefaultUncaughtExceptionHandler(
              new NGDSCrashHandler(this, mDefaultUncaughtExceptionHandler));
      }
  }
</code></pre></li>
<li><p>AndroidManifest.xml 的 application 标签添加    </p>
<pre><code>  &lt;application
         android:name=&quot;.BaseApp&quot;
              ......
</code></pre></li>
<li><p>说明：帮助我们收集错误信息以反馈更好的体验，如若不添加以上代码，出现问题我们将收不到相应信息。</p>
</li>
</ul>
<h4 id="2.3.4">2.3.4 设置Debug模式</h4>

<ul>
<li><p>Application的子类onCreate()方法中进行如下调用，以此来设置Debug模式。</p>
<pre><code>  @Override
  public void onCreate() {
      super.onCreate();
      SmartPush.setDebugMode(true);
  }
</code></pre></li>
<li><p>说明：若设置为Debug模式，SDK会记录程序信息并在logcat中打印调试log；若设置为非Debug模式，SDK不会做这些操作(默认为debug模式)。        </p>
</li>
</ul>
<h3 id="2.4">2.4 测试确认</h3>

<ul>
<li><p>请确认 AndroidManifest.xml 中的 <strong>NGDS_APPKEY</strong>、<strong>NGDS_APPID</strong>、<strong>NGDS_CHANNEL</strong>的value值是否正常填写。</p>
</li>
<li><p>请确认主项目包名是否与<a href="http://developers.gameservice.com/">GameService 开发网站</a>里相应的App一致。</p>
</li>
<li><p>smart-push-v1.x.x.jar 包是否添加为依赖。</p>
</li>
</ul>
<p><h4 id="2.4.1">2.4.1 测试推送通知和消息</h4></p>
<ul>
<li>请参照“新游智能推送平台操作指南”</li>
</ul>
<h2 id="3">3、推送 API 介绍</h2>


<ul>
<li><p>注册启动push服务</p>
<ul>
<li>方法： SmartPush.<strong>registerService</strong> (Context context) </li>
<li>功能： 注册启动push服务</li>
<li>参数： context 当前上下文</li>
</ul>
</li>
<li><p>注销消息接收者</p>
<ul>
<li>方法： SmartPush.<strong>unRegisterReceiver</strong>()</li>
<li>功能： 为App注销消息接收回调接口</li>
<li>参数： 无</li>
</ul>
</li>
<li><p>注册消息接收者</p>
<ul>
<li>方法： SmartPush.<strong>registerReceiver</strong>(IMsgReceiver receiver)</li>
<li>功能： 为App注册消息接收回调接口</li>
<li>参数： receiver消息处理接口类</li>
</ul>
</li>
<li><p>玩家绑定设备接口</p>
<ul>
<li>方法： SmartPush.<strong>bindDevice</strong>(Context context, String playerId)</li>
<li>功能： 为App注册消息接收回调接口</li>
<li>参数： <ul>
<li>context  上下文环境<ul>
<li>playerId 玩家id</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>设置Debug模式</p>
<ul>
<li>方法： SmartPush.<strong>setDebugMode</strong>(boolean isDebugable)</li>
<li>功能： 用于设置是否处于DebugMode</li>
<li>参数： isDebugable 是否设为Debug状态布尔值（true为Debug状态）</li>
</ul>
</li>
<li><p>记录玩家离开当前页面行为</p>
<ul>
<li>方法： SmartPush.<strong>onActivityPause</strong>(Context context)</li>
<li>功能： 玩家离开当前页面行为记录</li>
<li>参数： context 当前上下文</li>
</ul>
</li>
<li><p>记录玩家返回当前页面行为</p>
<ul>
<li>方法： SmartPush.<strong>onActivityResume</strong>(Context context)</li>
<li>功能： 玩家返回当前页面行为记录</li>
<li>参数： context 当前上下文    </li>
</ul>
</li>
<li><p>玩家登录记录</p>
<ul>
<li>方法： SmartPush.<strong>recordLogin</strong>(Context context, String playerId)</li>
<li>功能： 玩家登录记录</li>
<li>参数：      <ul>
<li>context  当前上下文<ul>
<li>playerId 玩家id</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>玩家登出记录</p>
<ul>
<li>方法： SmartPush.<strong>recordLogout</strong>(Context context)</li>
<li>功能： 玩家登出记录</li>
<li>参数： context 当前上下文</li>
</ul>
</li>
<li><p>玩家支付记录</p>
<ul>
<li>方法： SmartPush.<strong>recordPay</strong>(Context context,  String serverId, String playerId,
  float amount, String paymentChanel,
  String currency, int coinAmount, 
  String orderId, int level)</li>
<li>功能： 玩家支付行为记录</li>
<li>参数：     <ul>
<li>context       当前上下文<ul>
<li>serverId      服务器id     </li>
<li>playerId      玩家id</li>
<li>amount        充值金额</li>
<li>paymentChanel 支付渠道</li>
<li>currency      金额币种</li>
<li>coinAmount    充值游戏币个数</li>
<li>orderId       订单号</li>
<li>level         玩家等级    </li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>注册玩家统计</p>
<ul>
<li>方法： SmartPush.<strong>recordRegister</strong>(Context context, String serverId , String playerId)</li>
<li>功能： 注册玩家统计</li>
<li>参数： <ul>
<li>context       当前上下文</li>
<li>serverId      服务器id<ul>
<li>playerId      玩家id</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>记录玩家开始游戏的时间</p>
<ul>
<li>方法： SmartPush.<strong>recordStartTime</strong>(Context context, String serverId, String playerId, int playerLevel)</li>
<li>功能： 玩家开始游戏时间的记录</li>
<li>参数： <ul>
<li>context       当前上下文</li>
<li>serverId      服务器id<ul>
<li>playerId      玩家id</li>
</ul>
</li>
<li>playerLevel   玩家等级</li>
</ul>
</li>
</ul>
</li>
<li><p>记录玩家离开游戏的时间</p>
<ul>
<li>方法： SmartPush.<strong>recordEndTime</strong>(Context context, String serverId, String playerId, int playerLevel)</li>
<li>功能： 玩家离开游戏时间的记录</li>
<li>参数： <ul>
<li>context       当前上下文</li>
<li>serverId      服务器id<ul>
<li>playerId      玩家id</li>
</ul>
</li>
<li>playerLevel   玩家等级</li>
</ul>
</li>
</ul>
</li>
<li><p>记录玩家进入关卡的时间</p>
<ul>
<li>方法： SmartPush.<strong>recordStartTime_Mission</strong>(Context context, String serverId, 
String playerId, int missionId)</li>
<li>功能： 玩家进入关卡时间的记录</li>
<li>参数： <ul>
<li>context       当前上下文</li>
<li>serverId      服务器id<ul>
<li>playerId      玩家id</li>
</ul>
</li>
<li>missionId     关卡id</li>
</ul>
</li>
</ul>
</li>
<li><p>记录玩家离开关卡的时间</p>
<ul>
<li>方法： SmartPush.<strong>recordEndTime_Mission</strong>(Context context, String serverId, 
String playerId, int missionId)</li>
<li>功能： 玩家离开关卡时间的记录</li>
<li>参数： <ul>
<li>context       当前上下文</li>
<li>serverId      服务器id<ul>
<li>playerId      玩家id</li>
</ul>
</li>
<li>missionId     关卡id</li>
</ul>
</li>
</ul>
</li>
<li><p>玩家虚拟消费记录</p>
<ul>
<li>方法： SmartPush.<strong>recordConsumption</strong>(Context context, String serverId, String playerId,
  int itemId,
  int itemAmount,
  int coinAmount)</li>
<li>功能： 玩家消费行为记录</li>
<li>参数： <ul>
<li>context       当前上下文</li>
<li>serverId      服务器id</li>
<li>playerId      玩家id<ul>
<li>itemId        消费商品id</li>
<li>itemAmount    消费商品数量</li>
<li>coinAmount    消费虚拟币数量  </li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>玩家剩余金币记录</p>
<ul>
<li>方法： SmartPush.<strong>recordCoinAmount</strong>(Context context, String serverId, String playerId, int coinAmount)</li>
<li>功能： 玩家剩余金币记录</li>
<li>参数： <ul>
<li>context       当前上下文</li>
<li>serverId      服务器id</li>
<li>playerId      玩家id<ul>
<li>coinAmount    消费虚拟币数量  </li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="4">4、相关类介绍</h2>

<h3 id="4.1">4.1 IMsgReceiver（消息接收接口）</h3>

<table>
<thead>
<tr>
<th>分类</th>
<th>功能</th>
<th>方法</th>
</tr>
</thead>
<tbody>
<tr>
<td>透传消息接口</td>
<td>回调透传消息</td>
<td>onMessage</td>
</tr>
<tr>
<td>调试消息接口</td>
<td>回调 debug 消息</td>
<td>onDebug</td>
</tr>
<tr>
<td>deviceToken信息接口</td>
<td>回调 deviceToken</td>
<td>onDeviceToken</td>
</tr>
</tbody>
</table>
<ul>
<li><p>接收到的push消息</p>
<ul>
<li>方法： public void <strong>onMessage</strong>(String message)</li>
<li>功能： 接受到的透传消息处理</li>
<li>参数： message 为Json字符串，如&quot;{&quot;ID&quot;:&quot;id1&quot;, &quot;NAME&quot;:&quot;http:\/\/www.baidu.com&quot;}&quot;</li>
</ul>
</li>
<li><p>接收到的debug消息</p>
<ul>
<li>方法： public void <strong>onDebug</strong>(String debugInfo)</li>
<li>功能： 接收到的debug信息回调，用于debug使用</li>
<li>参数： debugInfo 为debug内容信息</li>
</ul>
</li>
<li><p>接收分配到的deviceToken信息</p>
<ul>
<li>方法： public void <strong>onDeviceToken</strong>()</li>
<li>功能： 回调时玩家id绑定设备</li>
<li>参数： 无</li>
</ul>
</li>
</ul>
<h2 id="5">5、常见问题</h2> 

<h3 id="5.1">5.1 关于推送服务</h3>

<ul>
<li>推送服务包括：<ul>
<li>推送通知：通知以状态栏Notification的形式展现，无需开发者处理。</li>
<li>推送消息：处理消息需开发者在 IMsgReceiver 实现类的<strong>onMessage</strong>(String message)方法内自定义(参考demo)。</li>
</ul>
</li>
</ul>

        </div>
    </div>
</div>
</div>
<a href="#" class="btn-top" id="btn_top"><span class="vertical">回顶部</span></a>
<script>
    $(function () {
        $('pre').addClass('prettyprint');
        $('td pre').removeClass('prettyprint');
        prettyPrint();
        $('.response-btn').on('click', function (e) {
            var sectionNode = $(this).closest('.api-section');
            sectionNode.find('.api-response').slideToggle();
        });
        var navHtml = '';
        var text = $('.nav-title-active').text();
        if (text.indexOf('Android SDK') != -1 || text.indexOf('iOS SDK') != -1 || text.indexOf('服务端接入') != -1 || text.indexOf('服务端推送接口') != -1) {
//            console.log(text);
            //抽取标题索引
            $('h1,h2,h3,h4,h5,h6').each(function (i) {
                $(this).attr('id', 'anchor-' + i);
            })
        } else {
//            navHtml += '<header><h1>' + text + '</h1></header>';
        }
        if ($('.api-section').length > 0) {
            navHtml += '<div class="index-nav index-endpoints">';
            navHtml += '    <ul>';
            $('.api-section').each(function (item) {
                var id = $(this).attr('id');
                var method = $(this).find('.api-method').eq(0).text().toUpperCase();
                var api = $(this).find('.api-rule').eq(0)[0].innerHTML;
                var desc = $(this).find('.api-description').eq(0).find('p').eq(0).text();
                navHtml += '        <li>';
                navHtml += '            <a href="#' + id + '">';
                navHtml += '                <span class="type">' + method + '</span>';
                navHtml += '                <b>' + api + '</b>';
                navHtml += '                <span class="description">' + desc + '</span>';
                navHtml += '                <i></i>';
                navHtml += '            </a>';
                navHtml += '        </li>';
            });
            navHtml += '    </ul>';
            navHtml += '</div>';
        }
        $('.nav-page-content').prepend(navHtml);
        var sidebar = $('.sidebar');
        $(window).on('scroll', function () {
            var scrollTop = $(this).scrollTop();
//            console.log(scrollTop);
//            if (scrollTop > 62) {
//                sidebar.css({'position': 'fixed', 'top': '0'});
//            }else {
//                sidebar.css({'position': 'absolute', 'top': 62});
//            }
            if (scrollTop > $(this).height()) {
                $('#btn_top').show();
            } else {
                $('#btn_top').hide();
            }
        });
    });
</script>
</body>
</html>
